{"version":3,"sources":["context/AppReducer.js","context/GlobalState.js","components/Divisor.jsx","components/Legend.jsx","components/Header.jsx","components/Number.jsx","components/Content.jsx","components/Footer.jsx","App.jsx","index.js"],"names":["getDivisors","numbers","divisors","divisorsCounter","i","length","j","value","push","filter","divisor","common","greatestDivisor","areCommon","isCommon","c","id","type","sort","a","b","AppReducer","state","action","uuid","payload","number","map","initialState","GlobalContext","createContext","GlobalProvider","children","useReducer","dispatch","updateDivisors","Provider","addNumber","deleteNumber","updateNumber","Divisor","legend","className","toLocaleString","Legend","Header","useState","inputAdd","setInputAdd","useContext","name","onChange","e","target","onInputChange","onClick","select","placeholder","preventDefault","onAdd","Number","inputNumber","setInputNumber","previousInputNumber","useRef","current","onUpdate","disabled","onDelete","Content","Footer","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7a673e02.chunk.js","sourcesContent":["import { v4 as uuid } from 'uuid'\r\n\r\nconst getDivisors = numbers => {\r\n  let divisors = []\r\n  let divisorsCounter = []\r\n\r\n  // Find all divisors\r\n\r\n  for (let i = 0; i < numbers.length; i++) {\r\n    for (let j = 1; j <= numbers[i].value; j++) {\r\n      if (numbers[i].value % j === 0) {\r\n        divisorsCounter.push(j)\r\n\r\n        if (divisors.filter(divisor => divisor.value === j).length === 0) {\r\n          divisors.push({ value: j, common: [] })\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // Find greatest and common divisors\r\n\r\n  let greatestDivisor = 0\r\n  let areCommon = []\r\n\r\n  for (let i = 0; i < divisors.length; i++) {\r\n    const divisor = divisors[i].value\r\n    const isCommon =\r\n      divisorsCounter.filter(c => c === divisor).length === numbers.length\r\n\r\n    areCommon.push(isCommon)\r\n\r\n    if (isCommon && divisor > greatestDivisor) {\r\n      greatestDivisor = divisor\r\n    }\r\n  }\r\n\r\n  // Add to common array\r\n\r\n  for (let i = 0; i < divisors.length; i++) {\r\n    for (let j = 0; j < numbers.length; j++) {\r\n      if (numbers[j].value % divisors[i].value === 0) {\r\n        if (areCommon[i]) {\r\n          if (divisors[i].value === greatestDivisor) {\r\n            divisors[i].common.push({ id: numbers[j].id, type: 3 })\r\n          } else {\r\n            divisors[i].common.push({ id: numbers[j].id, type: 2 })\r\n          }\r\n        } else {\r\n          divisors[i].common.push({ id: numbers[j].id, type: 1 })\r\n        }\r\n      } else {\r\n        divisors[i].common.push({ id: numbers[j].id, type: 0 })\r\n      }\r\n    }\r\n  }\r\n\r\n  divisors = divisors.sort((a, b) => a.value - b.value)\r\n\r\n  return divisors\r\n}\r\n\r\nexport const AppReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'UPDATE_DIVISORS':\r\n      return {\r\n        ...state,\r\n        divisors: [...getDivisors(state.numbers)],\r\n      }\r\n    case 'ADD_NUMBER':\r\n      return {\r\n        ...state,\r\n        numbers: [{ id: uuid(), value: action.payload }, ...state.numbers],\r\n      }\r\n    case 'DELETE_NUMBER':\r\n      return {\r\n        ...state,\r\n        numbers: state.numbers.filter(number => number.id !== action.payload),\r\n      }\r\n    case 'UPDATE_NUMBER':\r\n      return {\r\n        ...state,\r\n        numbers: state.numbers.map(number => {\r\n          if (number.id === action.payload.id) {\r\n            return {\r\n              ...number,\r\n              value: action.payload.value,\r\n            }\r\n          }\r\n\r\n          return number\r\n        }),\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","import React, { createContext, useReducer } from 'react'\r\nimport { AppReducer } from './AppReducer'\r\n\r\n// Initial state\r\n\r\nconst initialState = {\r\n  numbers: [],\r\n  divisors: [],\r\n}\r\n\r\n// Create context\r\n\r\nexport const GlobalContext = createContext(initialState)\r\n\r\n// Provider component\r\n\r\nexport const GlobalProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(AppReducer, initialState)\r\n\r\n  // Actions\r\n\r\n  const updateDivisors = () => {\r\n    dispatch({\r\n      type: 'UPDATE_DIVISORS',\r\n      payload: {},\r\n    })\r\n  }\r\n\r\n  const addNumber = value => {\r\n    dispatch({\r\n      type: 'ADD_NUMBER',\r\n      payload: value,\r\n    })\r\n\r\n    updateDivisors()\r\n  }\r\n\r\n  const deleteNumber = id => {\r\n    dispatch({\r\n      type: 'DELETE_NUMBER',\r\n      payload: id,\r\n    })\r\n\r\n    updateDivisors()\r\n  }\r\n\r\n  const updateNumber = number => {\r\n    dispatch({\r\n      type: 'UPDATE_NUMBER',\r\n      payload: {\r\n        id: number.id,\r\n        value: number.value,\r\n      },\r\n    })\r\n\r\n    updateDivisors()\r\n  }\r\n\r\n  return (\r\n    <GlobalContext.Provider\r\n      value={{\r\n        numbers: state.numbers,\r\n        divisors: state.divisors,\r\n        addNumber,\r\n        deleteNumber,\r\n        updateNumber,\r\n      }}\r\n    >\r\n      {children}\r\n    </GlobalContext.Provider>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nconst Divisor = ({ legend, value, type }) => {\r\n  return (\r\n    <li\r\n      className={`${\r\n        legend ? '' : 'animate__animated animate__flipInY '\r\n      }divisor-${type}`}\r\n    >\r\n      <div className=\"stars\">\r\n        <div className=\"star\"></div>\r\n        <div className=\"star\"></div>\r\n        <div className=\"star\"></div>\r\n      </div>\r\n      <div className=\"divisor\">\r\n        <p>{value.toLocaleString()}</p>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Divisor\r\n","import React from 'react'\r\nimport Divisor from './Divisor'\r\n\r\nconst Legend = () => {\r\n  return (\r\n    <section className=\"legend\">\r\n      <ul>\r\n        <li>\r\n          <p>Common For</p>\r\n        </li>\r\n        <Divisor legend={true} value=\"Not This\" type=\"0\" />\r\n        <Divisor legend={true} value=\"This\" type=\"1\" />\r\n        <Divisor legend={true} value=\"All\" type=\"2\" />\r\n        <Divisor legend={true} value=\"All + Greatest\" type=\"3\" />\r\n      </ul>\r\n    </section>\r\n  )\r\n}\r\n\r\nexport default Legend\r\n","import React, { useContext, useState } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport Legend from './Legend'\r\n\r\nconst Header = () => {\r\n  const [inputAdd, setInputAdd] = useState('')\r\n  const { addNumber } = useContext(GlobalContext)\r\n\r\n  const onAdd = e => {\r\n    e.preventDefault()\r\n\r\n    if (+inputAdd > 0 && +inputAdd < 100000000) {\r\n      addNumber(+inputAdd)\r\n      setInputAdd('')\r\n    }\r\n  }\r\n\r\n  const onInputChange = e => {\r\n    if (\r\n      (+e.target.value < 1 || +e.target.value >= 100000000) &&\r\n      e.target.value !== ''\r\n    ) {\r\n      setInputAdd('')\r\n    } else {\r\n      setInputAdd(+e.target.value)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"menu\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"logo-app\"></div>\r\n          <div className=\"form-container\">\r\n            <form>\r\n              <input\r\n                className=\"number-input\"\r\n                type=\"number\"\r\n                name=\"number\"\r\n                value={inputAdd}\r\n                onChange={e => onInputChange(e)}\r\n                onClick={e => e.target.select()}\r\n                placeholder=\"Add Number\"\r\n              />\r\n              <button\r\n                className=\"btn-add\"\r\n                type=\"submit\"\r\n                onClick={e => onAdd(e)}\r\n              ></button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Legend />\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header\r\n","import React, { useContext, useRef, useState } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport Divisor from './Divisor'\r\n\r\nconst Number = ({ number }) => {\r\n  const [inputNumber, setInputNumber] = useState(number.value)\r\n  const previousInputNumber = useRef(number.value)\r\n  const { divisors, updateNumber, deleteNumber } = useContext(GlobalContext)\r\n\r\n  const onUpdate = e => {\r\n    e.preventDefault()\r\n\r\n    if (inputNumber > 0 && inputNumber < 100000000) {\r\n      previousInputNumber.current = inputNumber\r\n      updateNumber({ id: number.id, value: inputNumber })\r\n    }\r\n  }\r\n\r\n  const onDelete = e => {\r\n    e.preventDefault()\r\n\r\n    deleteNumber(number.id)\r\n  }\r\n\r\n  const onInputChange = e => {\r\n    if (+e.target.value < 1 || +e.target.value >= 100000000) {\r\n      setInputNumber(previousInputNumber.current)\r\n    } else {\r\n      setInputNumber(+e.target.value)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"number animate__animated animate__fadeIn\">\r\n      <div className=\"top\">\r\n        <div className=\"form-container\">\r\n          <form>\r\n            <button\r\n              className=\"btn-update\"\r\n              type=\"submit\"\r\n              onClick={e => onUpdate(e)}\r\n              disabled={inputNumber === previousInputNumber.current}\r\n            ></button>\r\n            <input\r\n              className=\"number-input\"\r\n              type=\"number\"\r\n              name=\"number\"\r\n              value={inputNumber}\r\n              onChange={e => onInputChange(e)}\r\n              onClick={e => e.target.select()}\r\n            />\r\n            <button className=\"btn-delete\" onClick={e => onDelete(e)}></button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      <div className=\"content\">\r\n        <ul>\r\n          {divisors.map(divisor => (\r\n            <Divisor\r\n              key={divisor.value}\r\n              value={divisor.value}\r\n              type={\r\n                divisor.common.filter(common => number.id === common.id)[0].type\r\n              }\r\n            />\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Number\r\n","import React, { useContext } from 'react'\r\nimport { GlobalContext } from '../context/GlobalState'\r\nimport Number from './Number'\r\n\r\nconst Content = () => {\r\n  const { numbers } = useContext(GlobalContext)\r\n\r\n  return (\r\n    <main>\r\n      <div className=\"container\">\r\n        {numbers.map(number => (\r\n          <Number key={number.id} number={number} />\r\n        ))}\r\n      </div>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Content\r\n","import React from 'react'\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <div className=\"logo-author\"></div>\r\n      <p className=\"copyright\">&copy; 2021 Dawid Polatowski</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","import React from 'react'\nimport { GlobalProvider } from './context/GlobalState'\nimport Header from './components/Header'\nimport Content from './components/Content'\nimport Footer from './components/Footer'\n\nconst App = () => {\n  return (\n    <div className=\"app\">\n      <GlobalProvider>\n        <Header />\n        <Content />\n        <Footer />\n      </GlobalProvider>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'animate.css'\nimport './scss/main.scss'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}